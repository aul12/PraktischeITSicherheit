\section{Attestation}
\begin{frame}
    \frametitle{Attestation}
    \begin{itemize}[<+->]
        \item Attestation is used to verify the integrity of an enclave:
        \begin{itemize}[<+->]
            \item Verifies that the code is trustable
            \item That the enclave code has not been tampered with
        \end{itemize}
        \item Enclaves can provide a report containing (excerpt):
        \begin{itemize}
            \item Enclave measurement (MRENCLAVE)
            \item Version numbers / IDs
            \item Authors identity
        \end{itemize}
        \item Report can be requested:
        \begin{itemize}
            \item By another enclave (local attestation)
            \item From another system (remote attestation)
        \end{itemize}
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Local Attestation}
    \begin{enumerate}[<+->]
        \item Enclave B request report from enclave A
        \item Enclave A creates report structure from using EREPORT instruction
        \item Report is generated by SGX using:
        \begin{itemize}
            \item Data from A's SECS-structure
            \item Message Authentication Code (MAC) over all report fields
        \end{itemize}
        \item Report is sent to enclave B
        \item B verifies Report using EGETKEY instruction
    \end{enumerate}
\end{frame}

\incfuck[\textwidth]{LocalAttestation}{1}{}{Local Attestation}
\incfuck[\textwidth]{LocalAttestation}{2}{}{Local Attestation}
\incfuck[\textwidth]{LocalAttestation}{3}{}{Local Attestation}
\incfuck[\textwidth]{LocalAttestation}{4}{}{Local Attestation}
\incfuck[\textwidth]{LocalAttestation}{5}{}{Local Attestation}
\incfuck[\textwidth]{LocalAttestation}{6}{}{Local Attestation}

\begin{frame}
    \frametitle{Remote Attestation}
    \begin{enumerate}[<+->]
        \item A shared secret has to be known by the CPU and Intel
        \item A Quoting Enclave (QE) performs local attestation of enclave
        \item The Report is signed by the QE using the shared secret
        \item Challenger can verify authenticity of quote through Intel
    \end{enumerate}
\end{frame}

\incfuck[0.85\textwidth]{RemoteAttestation}{1}{}{Remote Attestation}
\incfuck[0.85\textwidth]{RemoteAttestation}{2}{}{Remote Attestation}
\incfuck[0.85\textwidth]{RemoteAttestation}{3}{}{Remote Attestation}
\incfuck[0.85\textwidth]{RemoteAttestation}{4}{}{Remote Attestation}
\incfuck[0.85\textwidth]{RemoteAttestation}{5}{}{Remote Attestation}

\section{Sealing}

\begin{frame}
    \frametitle{Sealing}
    \begin{itemize}[<+->]
        \item Mechanism for persistently storing (enclave) secrets
        \item Cryptographic is derived from enclave signature
        \item Key derivation can use
        \begin{itemize}
            \item MRENCLAVE $\Rightarrow$ only identical enclaves can use the sealed data
            \item Enclave IDs and / or author's ID $\Rightarrow$ less strict access (e.g. enclaves by same author)
        \end{itemize}
    \end{itemize}
\end{frame}